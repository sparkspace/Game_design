(function(b){
    //------------------------初始化加载对象---------------------
    b.fn.fakeLoader=function(m){
        var winh = $(window).width();
        var winw = $(window).height();
        var f=b.extend({
            timeToHide:1200,
            pos:"fixed",
            top:"0px",
            left:"0px",
            width:winh,
            height:winw,
            zIndex:"99999",
            bgColor:"#2ecc71",
            spinner:"spinner7",
            imagePath:""
        },m);


        //-----------------------预加载样式--------------------
        var s1='<div class="fl spinner1"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>';
        var s2='<div class="fl spinner2"><div class="spinner-container container1"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container2"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container3"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div></div>';
        var s3='<div class="fl spinner3"><div class="dot1"></div><div class="dot2"></div></div>';
        var s4='<div class="fl spinner4"></div>';
        var s5='<div class="fl spinner5"><div class="cube1"></div><div class="cube2"></div></div>';
        var s6='<div class="fl spinner6"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>';
        var s7='<div class="fl spinner7"><div class="circ1"></div><div class="circ2"></div><div class="circ3"></div><div class="circ4"></div></div>';
        var d=b(this);
        var c={
            position:f.pos,
            width:f.width,
            height:f.height,
            top:f.top,
            left:f.left
        };
        d.css(c);
        d.each(function(){
            var n=f.spinner;
            switch(n){
                case"spinner1":$(".fakeloader_box").html(s1);
                    break;
                case"spinner2":$(".fakeloader_box").html(s2);
                    break;
                case"spinner3":$(".fakeloader_box").html(s3);
                    break;
                case"spinner4":$(".fakeloader_box").html(s4);
                    break;
                case"spinner5":$(".fakeloader_box").html(s5);
                    break;
                case"spinner6":$(".fakeloader_box").html(s6);
                    break;
                case"spinner7":$(".fakeloader_box").html(s7);
                    break;
                default:$(".fakeloader_box").html(s1)
            }


            if(f.imagePath!=""){
                d.html('<div class="fl"><images src="'+f.imagePath+'"></div>');a()
            }});

        //-------------------预加载页面关闭时间，可注释掉自定义关闭条件---------------
        //setTimeout(function(){
        //    b(d).fadeOut()
        //},f.timeToHide);

        return this.css({
            backgroundColor:f.bgColor,
            zIndex:f.zIndex
        })};


    function a(){
        var c=$(window).width();
        var e=$(window).height();
        var d=b(".fakeloader").width();
        var f=b(".fakeloader").height();
        var g=b(".fl").width();
        var h=b(".fl").height();
        $(".bg_flop").css({
            "width":c+"px",
            "height":e+"px"
        })
    }
    b(window).load(function(){
        a();
        b(window).resize(function(){a()})})
}(jQuery));